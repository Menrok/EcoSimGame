<div class="sidebar-menu">
    <div class="header-bar">
        <img src="images/logo.png" alt="EcoSimGame Logo" class="header-logo" />
    </div>

    <nav class="nav flex-column">
        <div class="nav-item">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                <img src="images/main/biuro.png" class="menu-icon" alt="Home" /> Biuro
            </NavLink>
        </div>
        <div class="nav-item">
            <NavLink class="nav-link" href="ProductionMap">
                <img src="images/main/Map.png" class="menu-icon" alt="Produkcja" /> Produkcja
            </NavLink>
        </div>
        <div class="nav-item">
            <div class="nav-link" @onclick="OpenShop" style="cursor: pointer;">
                <img src="images/main/sklep.png" class="menu-icon" alt="Sklep" /> Sklep
            </div>
        </div>
        <div class="nav-item">
            <div class="nav-link" @onclick="ShowWarehouse" style="cursor: pointer;">
                <img src="images/main/magazyn.png" class="menu-icon" alt="Magazyn" /> Magazyn
            </div>
        </div>
    </nav>
</div>

<InventoryModal IsOpen="@isInventoryModalOpen" Close="@CloseInventory" />
<ShopModal IsOpen="@isShopModalOpen" Close="CloseShop" />

@code {
    private bool collapseNavMenu = true;
    private bool isInventoryModalOpen = false;
    private bool isShopModalOpen = false;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu() => collapseNavMenu = !collapseNavMenu;

    private void ShowWarehouse() => isInventoryModalOpen = true;

    private void CloseInventory() => isInventoryModalOpen = false;

    private void OpenShop() => isShopModalOpen = true;

    private void CloseShop() => isShopModalOpen = false;
}